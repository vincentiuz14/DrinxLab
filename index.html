<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DrinkxLab</title>
  <style>
    body {
      background-color: #0a0a0a;
      color: #00ffcc;
      font-family: 'Courier New', monospace;
      text-align: center;
      padding: 20px;
    }
    h1, h2 {
      color: #00ffcc;
      text-shadow: 0 0 15px #00ffcc, 0 0 30px #0099ff;
    }
    label, p {
      font-size: 18px;
      text-shadow: 0 0 8px #00ffaa;
    }
    select, input, button {
      margin: 10px;
      padding: 10px;
      background: #111;
      color: #00ffcc;
      border: 2px solid #00ffaa;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      cursor: pointer;
      text-shadow: 0 0 5px #00ffcc;
    }
    button:hover {
      background: #00ffaa;
      color: #000;
      text-shadow: none;
    }
    #recipe {
      margin-top: 20px;
      padding: 15px;
      border: 2px dashed #00ffaa;
      border-radius: 10px;
      background: rgba(0,255,170,0.05);
      text-align: left;
      white-space: pre-line;
      display: none;
      animation: glowPulse 2s infinite alternate;
    }
    iframe {
      margin: 20px 0;
      border: 2px solid #00ffcc;
      border-radius: 10px;
    }

    /* Loading animation */
    .loading {
      font-size: 16px;
      font-weight: bold;
      text-shadow: 0 0 5px #00ffcc;
    }
    .loading::after {
      content: '';
      animation: dots 1.5s infinite;
    }
    @keyframes dots {
      0%   { content: ''; }
      33%  { content: '.'; }
      66%  { content: '..'; }
      100% { content: '...'; }
    }

    /* Glow pulse animation */
    @keyframes glowPulse {
      from { box-shadow: 0 0 10px #00ffcc; }
      to   { box-shadow: 0 0 30px #0099ff; }
    }
  </style>
</head>
<body>
  <h1>‚öóÔ∏è DrinkxLab - Custom Drink Generator ‚öóÔ∏è</h1>

  <label>Choose Flavors (multi-select):</label><br>
  <select id="flavors" multiple size="10">
    <option>Strawberry</option>
    <option>Mango</option>
    <option>Lychee</option>
    <option>Peach</option>
    <option>Blueberry</option>
    <option>Matcha</option>
    <option>Chocolate</option>
    <option>Vanilla</option>
    <option>Coffee</option>
    <option>Caramel</option>
    <option>Honeydew</option>
    <option>Taro</option>
    <option>Coconut</option>
  </select><br>

  <label>Choose Size:</label>
  <select id="size">
    <option value="250">Small (250ml)</option>
    <option value="350">Medium (350ml)</option>
    <option value="500">Large (500ml)</option>
  </select><br>

  <label>Sweetness / Flavor Strength (%):</label>
  <input type="number" id="strength" value="50" min="10" max="100"> %<br>

  <label>Ice Level:</label>
  <select id="ice">
    <option>No Ice</option>
    <option>Less Ice</option>
    <option>Normal Ice</option>
    <option>Extra Ice</option>
  </select><br>

  <label>Extra Note to Barista:</label><br>
  <input type="text" id="note" placeholder="e.g. make it creamy"><br>

  <button id="generateBtn" onclick="generateRecipe()">Generate Drink</button>

  <div id="recipe"></div>

  <h2>üìç Cafe Terdekat</h2>
  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.78650456483!2d106.781!3d-6.176!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f5bfb0cafe1!2sStarbucks!5e0!3m2!1sid!2sid!4v1700000000000" width="100%" height="250" allowfullscreen="" loading="lazy"></iframe>

  <script>
    function generateRecipe() {
      const btn = document.getElementById("generateBtn");
      const recipeBox = document.getElementById("recipe");

      btn.disabled = true;
      btn.innerText = "Mixing Drink";
      btn.classList.add("loading");
      recipeBox.style.display = "none";

      setTimeout(() => {
        const flavors = Array.from(document.getElementById("flavors").selectedOptions).map(o => o.value);
        const size = parseInt(document.getElementById("size").value);
        const strength = parseInt(document.getElementById("strength").value);
        const ice = document.getElementById("ice").value;
        const note = document.getElementById("note").value;

        if (flavors.length === 0) {
          alert("Please select at least one flavor!");
          btn.disabled = false;
          btn.innerText = "Generate Drink";
          btn.classList.remove("loading");
          return;
        }

        let baseLiquid = size * 0.6; // 60% base = milk+water
        let milk = baseLiquid * 0.7;
        let water = baseLiquid * 0.3;
        let syrupTotal = (size * (strength/100)) / flavors.length;

        let recipe = `üî¨ DrinkxLab Recipe üî¨\n\n`;
        recipe += `Size: ${size}ml\n`;
        recipe += `Flavors: ${flavors.join(", ")}\n\n`;
        recipe += `Base: ${milk.toFixed(0)}ml Milk + ${water.toFixed(0)}ml Water\n`;
        flavors.forEach(f => {
          recipe += `- ${f} Syrup: ${syrupTotal.toFixed(0)}ml\n`;
        });
        recipe += `Ice: ${ice}\n`;
        if (note) recipe += `Note: ${note}\n`;

        recipeBox.innerText = recipe;
        recipeBox.style.display = "block";

        btn.disabled = false;
        btn.innerText = "Generate Drink";
        btn.classList.remove("loading");
      }, 1500);
    }
  </script>
</body>
</html>
